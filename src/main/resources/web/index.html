<head>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
    <div class=header>
        <a href="trm:8082/newTestPlan">SubmitTestPlan</a>
        <a href="trm:8082/login">Login</a>
        <h1>Test Runner Manager</h1>
        <p>This is the main page, showing some useful statistics (down/up/problems/resources)</p>
    </div>
    <ul id=runners class=content-main>
        RUNNERS:
    </ul>
    <div class=footer>
        <p>I am the footer</p>
    </div>
    <script>
        const url = 'http://localhost:8082/api/testRunners';
        fetch(url)
        .then(response => response.text())
        .then(text => JSON.parse(text))
        .then(arr => {
            const container = document.getElementById("runners");
            for(let i = 0; i < arr.length; i++){
                let tr = arr[i];
                const node = document.createElement("li");
                node.innerHTML = `${tr.name}  <strong>${tr.status}</strong> BENCH_TAGS: ${tr.benchTags} RUNNING: ${tr.runId}`;
                container.appendChild(node);
                console.log(tr);
            }
        })
        .catch(e => console.error(e));
    </script>
</body>